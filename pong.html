<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Neon Pong â€” You vs Bot</title>
<style>
  :root{
    --bg1:#171717; --bg2:#1f1f1f;
    --you:#00e5ff; --bot:#ff4df0; --ball:#ffffff;
    --glow:0 0 24px rgba(0,0,0,.6);
  }
  html,body{height:100%;margin:0;background:#191919;color:#fff;
    font-family:Inter,system-ui,Segoe UI,Roboto,Arial;display:flex;align-items:center;justify-content:center}
  .wrap{position:relative}
  canvas{background:linear-gradient(180deg,var(--bg1),var(--bg2));border-radius:16px;box-shadow:var(--glow);touch-action:none}
  .ui{position:absolute;top:10px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
  button{background:#242424;border:1px solid rgba(255,255,255,.15);color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
  .primary{background:#00ffa6;color:#07120e;border:none;font-weight:700}
  .score{position:absolute;top:14px;left:14px;font-weight:700;background:rgba(0,0,0,.35);
    padding:6px 10px;border-radius:10px}
  .score span{min-width:24px;display:inline-block;text-align:center}
  .hint{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);font-size:13px;color:#cbd5e1}
</style>
</head>
<body>
<div class="wrap">
  <canvas id="game" width="720" height="420" aria-label="Pong"></canvas>
  <div class="ui">
    <button id="start" class="primary">Start</button>
    <button id="pause">Pause</button>
    <button id="restart">Restart</button>
    <button id="speed">Speed: Normal</button>
    <button id="mute">ðŸ”Š</button>
  </div>
  <div class="score">You <span id="sYou">0</span> â€” <span id="sBot">0</span> Bot</div>
  <div class="hint">Controls: Mouse/Touch drag or W/S (â†‘/â†“). First to 7 wins.</div>
</div>

<script>
const cvs=document.getElementById('game'),ctx=cvs.getContext('2d');
const W=cvs.width,H=cvs.height;
const PADDLE_H=80, PADDLE_W=10, BALL_R=7;
const FX = {mute:false, ping(){ if(this.mute) return; try{ new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=').play(); }catch(e){} }};
let you={x:20,y:H/2-PADDLE_H/2,w:PADDLE_W,h:PADDLE_H,vy:0,color:getCSS('--you')};
let bot={x:W-20-PADDLE_W,y:H/2-PADDLE_H/2,w:PADDLE_W,h:PADDLE_H,vy:0,color:getCSS('--bot')};
let ball=resetBall();
let sYou=0,sBot=0, running=false, paused=false, aiLevel=1; // 0:Easy 1:Normal 2:Hard
function getCSS(name){return getComputedStyle(document.documentElement).getPropertyValue(name).trim();}
function resetBall(dir=Math.random()<0.5?-1:1){ return {x:W/2, y:H/2, vx:dir*(3+Math.random()*1.5), vy:(Math.random()*2-1)*2, r:BALL_R}; }
function drawBoard(){
  // middle dashed line
  ctx.strokeStyle='rgba(255,255,255,.15)'; ctx.lineWidth=2; ctx.setLineDash([8,12]);
  ctx.beginPath(); ctx.moveTo(W/2,10); ctx.lineTo(W/2,H-10); ctx.stroke(); ctx.setLineDash([]);
}
function glowRect(x,y,w,h,color){
  ctx.shadowColor=color; ctx.shadowBlur=16; ctx.fillStyle=color; ctx.fillRect(x,y,w,h); ctx.shadowBlur=0;
}
function draw(){
  ctx.clearRect(0,0,W,H);
  // bg overlay subtle
  const g=ctx.createLinearGradient(0,0,W,H); g.addColorStop(0,'rgba(255,255,255,0.03)'); g.addColorStop(1,'rgba(0,0,0,0.05)');
  ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
  drawBoard();
  glowRect(you.x,you.y,you.w,you.h,you.color);
  glowRect(bot.x,bot.y,bot.w,bot.h,bot.color);
  // ball
  const grad=ctx.createRadialGradient(ball.x,ball.y,2,ball.x,ball.y,ball.r*3);
  grad.addColorStop(0,'#fff'); grad.addColorStop(1,'#9ee7ff');
  ctx.shadowColor='#74f1ff'; ctx.shadowBlur=18; ctx.fillStyle=grad;
  ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fill(); ctx.shadowBlur=0;
}
function clamp(v,min,max){return Math.max(min,Math.min(max,v));}
function step(){
  // player movement (keyboard)
  you.y = clamp(you.y + you.vy, 10, H-10-you.h);
  // bot AI
  const target = ball.y - bot.h/2 + (Math.random()-0.5)* (aiLevel===0?60: aiLevel===1?30:12);
  const diff = target - bot.y;
  bot.y += clamp(diff, - (aiLevel===2?8: aiLevel===1?6:4), (aiLevel===2?8: aiLevel===1?6:4));
  bot.y = clamp(bot.y, 10, H-10-bot.h);

  // ball physics
  ball.x += ball.vx; ball.y += ball.vy;

  // walls
  if(ball.y < 10+ball.r || ball.y > H-10-ball.r){ ball.vy *= -1; FX.ping(); }

  // paddles
  const hitYou = ball.x-ball.r <= you.x+you.w && ball.y>you.y && ball.y<you.y+you.h && ball.vx<0;
  const hitBot = ball.x+ball.r >= bot.x && ball.y>bot.y && ball.y<bot.y+bot.h && ball.vx>0;

  if(hitYou){
    const rel=(ball.y-(you.y+you.h/2))/(you.h/2);
    ball.vx = Math.abs(ball.vx)+0.6; ball.vy = rel*5; ball.vx *= 1; // to right
    ball.vx = Math.min(ball.vx, 10); FX.ping();
  }
  if(hitBot){
    const rel=(ball.y-(bot.y+bot.h/2))/(bot.h/2);
    ball.vx = -Math.abs(ball.vx)-0.6; ball.vy = rel*5; ball.vx *= 1; // to left
    ball.vx = Math.max(ball.vx, -10); FX.ping();
  }

  // score
  if(ball.x < -20){ sBot++; updateScore(); ball=resetBall(1); }
  if(ball.x > W+20){ sYou++; updateScore(); ball=resetBall(-1); }

  // win
  if(sYou>=7 || sBot>=7){ running=false; }
}
function updateScore(){
  document.getElementById('sYou').textContent=sYou;
  document.getElementById('sBot').textContent=sBot;
}
let last=0;
function loop(t){
  if(!running){ draw(); return requestAnimationFrame(loop); }
  if(paused){ return requestAnimationFrame(loop); }
  const dt=t-last; last=t;
  // (dt not strictly used; simple arcade)
  step(); draw();
  requestAnimationFrame(loop);
}
// controls: mouse/touch
function pointerToCanvasY(e){
  const r=cvs.getBoundingClientRect();
  const y=(e.touches?e.touches[0].clientY:e.clientY)-r.top;
  return y - you.h/2;
}
cvs.addEventListener('mousemove',e=>{ you.y = clamp(pointerToCanvasY(e),10,H-10-you.h); });
cvs.addEventListener('touchmove',e=>{ you.y = clamp(pointerToCanvasY(e),10,H-10-you.h); },{passive:true});
// keyboard
window.addEventListener('keydown',e=>{
  if(e.key==='w' || e.key==='ArrowUp') you.vy=-8;
  if(e.key==='s' || e.key==='ArrowDown') you.vy=8;
  if(e.key===' ') { paused=!paused; }
});
window.addEventListener('keyup',e=>{
  if(['w','ArrowUp','s','ArrowDown'].includes(e.key)) you.vy=0;
});

// UI
document.getElementById('start').onclick=()=>{ if(!running){ running=true; paused=false; requestAnimationFrame(loop);} };
document.getElementById('pause').onclick=()=>{ paused=!paused; };
document.getElementById('restart').onclick=()=>{ sYou=0;sBot=0;updateScore(); you.y=H/2-PADDLE_H/2; bot.y=H/2-PADDLE_H/2; ball=resetBall(); running=true; paused=false; };
document.getElementById('speed').onclick=()=>{
  aiLevel = (aiLevel+1)%3;
  const label = aiLevel===0?'Easy':aiLevel===1?'Normal':'Hard';
  document.getElementById('speed').textContent = 'Speed: '+label;
};
document.getElementById('mute').onclick=()=>{ FX.mute=!FX.mute; document.getElementById('mute').textContent = FX.mute?'ðŸ”‡':'ðŸ”Š'; };

// start
updateScore(); draw(); requestAnimationFrame(loop);
</script>
</body>
</html>
