<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Catch Logic</title>
  <style>
    body {
      margin: 0;
      background: #191919;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: "Poppins", sans-serif;
      overflow: hidden;
    }
    canvas {
      background: radial-gradient(circle at 50% 30%, #1a1a1a, #0a0a0a);
      border-radius: 20px;
      display: block;
    }
    #score {
      position: absolute;
      top: 25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 22px;
      color: #ffffff;
      text-shadow: 0 0 10px #ff3ea5;
    }
    #startBtn,
    #retryBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 14px 28px;
      font-size: 20px;
      background: white;
      color: black;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      display: none;
    }
    #startBtn:hover,
    #retryBtn:hover {
      transform: translate(-50%, -50%) scale(1.05);
          }
    #startBtn {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="400" height="500"></canvas>
  <div id="score">Score: 0</div>
  <button id="startBtn">Start Game</button>
  <button id="retryBtn">Retry</button>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const scoreText = document.getElementById("score");
    const startBtn = document.getElementById("startBtn");
    const retryBtn = document.getElementById("retryBtn");

    let gameStarted = false;
    let gameOver = false;
    let score = 0;
    let speed = 2;
    let orbs = [];

    const player = { x: 180, y: 460, w: 60, h: 10, color: "#ff3ea5", speed: 6 };
    const colors = ["#ff3ea5", "#00fff0", "#ffcc00", "#00ff7f", "#ff0044"];

    function createOrb() {
      const x = Math.random() * (canvas.width - 20);
      const color = colors[Math.floor(Math.random() * colors.length)];
      return { x, y: -20, r: 10, color };
    }

    function drawPlayer() {
      const gradient = ctx.createLinearGradient(player.x, player.y, player.x + player.w, player.y);
      gradient.addColorStop(0, "#ff6ec7");
      gradient.addColorStop(1, "#ff3ea5");
      ctx.shadowBlur = 15;
      ctx.shadowColor = "#ff3ea5";
      ctx.fillStyle = gradient;
      ctx.fillRect(player.x, player.y, player.w, player.h);
    }

    function drawOrb(orb) {
      ctx.beginPath();
      ctx.arc(orb.x, orb.y, orb.r, 0, Math.PI * 2);
      ctx.fillStyle = orb.color;
      ctx.shadowBlur = 15;
      ctx.shadowColor = orb.color;
      ctx.fill();
    }

    function update() {
      if (!gameStarted || gameOver) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawPlayer();

      orbs.forEach((orb, i) => {
        orb.y += speed;
        drawOrb(orb);

        // Catch orb
        if (
          orb.y + orb.r > player.y &&
          orb.x > player.x &&
          orb.x < player.x + player.w
        ) {
          score++;
          scoreText.textContent = "Score: " + score;
          orbs.splice(i, 1);
        }

        // Miss orb -> Fail
        if (orb.y > canvas.height + 20) {
          gameOver = true;
          retryBtn.style.display = "block";
        }
      });

      if (Math.random() < 0.02) orbs.push(createOrb());
      if (score % 20 === 0 && score > 0) speed += 0.002;

      requestAnimationFrame(update);
    }

    // ðŸŽ® Controls
    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft" && player.x > 0) player.x -= player.speed;
      if (e.key === "ArrowRight" && player.x + player.w < canvas.width)
        player.x += player.speed;
    });
document.addEventListener("mousemove", (e) => {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      player.x = mouseX - player.w / 2;
      player.x = Math.max(0, Math.min(player.x, canvas.width - player.w));
    });

    function startGame() {
      score = 0;
      speed = 2;
      gameStarted = true;
      gameOver = false;
      orbs = [];
      startBtn.style.display = "none";
      retryBtn.style.display = "none";
      scoreText.textContent = "Score: 0";
      update();
    }

    startBtn.addEventListener("click", startGame);
    retryBtn.addEventListener("click", startGame);
  </script>
</body>
</html>