<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Neon Speed Racer</title>
<style>
html,body{margin:0;height:100%;display:flex;align-items:center;justify-content:center;
background:#191919;color:#fff;font-family:Inter,sans-serif}
.wrap{width:min(96vw,460px);text-align:center}
h2{margin:0 0 8px}
canvas{background:#0e0e0e;border-radius:12px;box-shadow:0 0 20px #000;display:block;margin:auto}
button{padding:6px 14px;margin:6px;border:none;border-radius:8px;cursor:pointer;
background:#00ffe1;color:#000;font-weight:700}
.info{color:#aaa;font-size:13px;margin-top:4px}
</style>
</head>
<body>
<div class="wrap">
<h2>Neon Speed Racer üèéÔ∏è</h2>
<canvas id="game" width="420" height="420"></canvas>
<button id="start">Start</button>
<div class="info">‚Üê ‚Üí move ‚Ä¢ avoid traffic ‚Ä¢ collect stars</div>
</div>
<script>
const c=document.getElementById("game"),ctx=c.getContext("2d");
let player,traffic,stars,playing=false,speed=4,score=0,frame=0;

function reset(){
player={x:210,y:360,w:30,h:50,color:"#00ffe1"};
traffic=[];stars=[];speed=4;score=0;frame=0;playing=true;
loop();
}

function drawCar(p){ctx.fillStyle=p.color;ctx.fillRect(p.x-p.w/2,p.y-p.h/2,p.w,p.h);}
function spawn(){
if(frame%45===0){
traffic.push({x:[140,210,280][Math.floor(Math.random()*3)],y:-40,w:30,h:50,color:"#ff5555"});
}
if(frame%120===0){
stars.push({x:[140,210,280][Math.floor(Math.random()*3)],y:-20,r:6});
}
}

function drawRoad(){
ctx.fillStyle="#111";ctx.fillRect(0,0,420,420);
ctx.strokeStyle="#333";ctx.lineWidth=4;
ctx.beginPath();ctx.moveTo(140,0);ctx.lineTo(140,420);
ctx.moveTo(210,0);ctx.lineTo(210,420);
ctx.moveTo(280,0);ctx.lineTo(280,420);
ctx.stroke();
}

function loop(){
if(!playing)return;
frame++;ctx.clearRect(0,0,420,420);
drawRoad();spawn();
traffic.forEach(t=>{t.y+=speed;ctx.fillStyle=t.color;ctx.fillRect(t.x-t.w/2,t.y-t.h/2,t.w,t.h);});
stars.forEach(s=>{s.y+=speed;ctx.fillStyle="#ffd166";ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fill();});

drawCar(player);

// collision
traffic.forEach(t=>{
if(Math.abs(t.x-player.x)<25&&Math.abs(t.y-player.y)<40){
playing=false;alert("üí• Crash! Score: "+score);
}});
stars.forEach((s,i)=>{
if(Math.abs(s.x-player.x)<20&&Math.abs(s.y-player.y)<25){score+=10;stars.splice(i,1);}
});
traffic=traffic.filter(t=>t.y<460);
stars=stars.filter(s=>s.y<460);
ctx.fillStyle="#aaa";ctx.fillText("Score: "+score,10,20);
requestAnimationFrame(loop);
}

const keys={};
document.addEventListener("keydown",e=>{
if(e.key==="ArrowLeft")player.x-=70;
if(e.key==="ArrowRight")player.x+=70;
});
document.getElementById("start").onclick=reset;
</script>
</body>
</html>
